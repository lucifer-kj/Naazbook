(()=>{var e={};e.id=2127,e.ids=[2127],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8704:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{HTTPAccessErrorStatus:function(){return r},HTTP_ERROR_FALLBACK_ERROR_CODE:function(){return n},getAccessFallbackErrorTypeByStatus:function(){return o},getAccessFallbackHTTPStatus:function(){return i},isHTTPAccessFallbackError:function(){return u}});let r={NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401},s=new Set(Object.values(r)),n="NEXT_HTTP_ERROR_FALLBACK";function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r]=e.digest.split(";");return t===n&&s.has(Number(r))}function i(e){return Number(e.digest.split(";")[1])}function o(e){switch(e){case 401:return"unauthorized";case 403:return"forbidden";case 404:return"not-found";default:return}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31162:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isNextRouterError",{enumerable:!0,get:function(){return u}});let s=r(8704),n=r(49026);function u(e){return(0,n.isRedirectError)(e)||(0,s.isHTTPAccessFallbackError)(e)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},39579:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>w,routeModule:()=>y,serverHooks:()=>_,workAsyncStorage:()=>j,workUnitAsyncStorage:()=>b});var s={};r.r(s),r.d(s,{DELETE:()=>p,GET:()=>d,POST:()=>f,runtime:()=>c});var n=r(96559),u=r(48088),i=r(37719),o=r(32190),a=r(79464),l=r(56814);let c="nodejs";async function d(){try{let e=await (0,l.j2)();if(!e?.user)return o.NextResponse.json({error:"Unauthorized"},{status:401});let t=await a.z.wishlist.findMany({where:{userId:e.user.id},include:{product:!0}});return o.NextResponse.json(t)}catch(e){return console.error("Error fetching wishlist:",e),o.NextResponse.json({error:"Failed to fetch wishlist"},{status:500})}}async function f(e){let t=await (0,l.j2)();if(!t?.user?.id)return o.NextResponse.json({error:"Unauthorized"},{status:401});let{productId:r}=await e.json();return r?await a.z.wishlist.findFirst({where:{userId:t.user.id,productId:r}})?o.NextResponse.json({error:"Already in wishlist"},{status:400}):(await a.z.wishlist.create({data:{userId:t.user.id,productId:r}}),o.NextResponse.json({success:!0})):o.NextResponse.json({error:"Product ID required"},{status:400})}async function p(e){let t=await (0,l.j2)();if(!t?.user?.id)return o.NextResponse.json({error:"Unauthorized"},{status:401});let{productId:r}=await e.json();return r?(await a.z.wishlist.deleteMany({where:{userId:t.user.id,productId:r}}),o.NextResponse.json({success:!0})):o.NextResponse.json({error:"Product ID required"},{status:400})}let y=new n.AppRouteRouteModule({definition:{kind:u.RouteKind.APP_ROUTE,page:"/api/user/wishlist/route",pathname:"/api/user/wishlist",filename:"route",bundlePath:"app/api/user/wishlist/route"},resolvedPagePath:"C:\\Users\\HP\\Desktop\\naazbook\\app\\api\\user\\wishlist\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:j,workUnitAsyncStorage:b,serverHooks:_}=y;function w(){return(0,i.patchFetch)({workAsyncStorage:j,workUnitAsyncStorage:b})}},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},49026:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{REDIRECT_ERROR_CODE:function(){return n},RedirectType:function(){return u},isRedirectError:function(){return i}});let s=r(52836),n="NEXT_REDIRECT";var u=function(e){return e.push="push",e.replace="replace",e}({});function i(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let t=e.digest.split(";"),[r,u]=t,i=t.slice(2,-2).join(";"),o=Number(t.at(-2));return r===n&&("replace"===u||"push"===u)&&"string"==typeof i&&!isNaN(o)&&o in s.RedirectStatusCode}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},51846:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{BailoutToCSRError:function(){return s},isBailoutToCSRError:function(){return n}});let r="BAILOUT_TO_CLIENT_SIDE_RENDERING";class s extends Error{constructor(e){super("Bail out to client-side rendering: "+e),this.reason=e,this.digest=r}}function n(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}},52637:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isPostpone",{enumerable:!0,get:function(){return s}});let r=Symbol.for("react.postpone");function s(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}},52836:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}});var r=function(e){return e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e}({});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},55511:e=>{"use strict";e.exports=require("crypto")},56814:(e,t,r)=>{"use strict";r.d(t,{Y9:()=>o,j2:()=>c});var s=r(19443),n=r(79464),u=r(10189),i=r(85663);let{handlers:o,signIn:a,signOut:l,auth:c}=(0,s.Ay)({providers:[(0,u.A)({name:"credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(e){if(!e?.email||!e?.password)return null;let t=await n.z.user.findUnique({where:{email:e.email}});return t&&t.password&&await (0,i.UD)(e.password,t.password)?{id:t.id,email:t.email,name:t.name,role:t.role}:null}})],session:{strategy:"jwt"},callbacks:{jwt:async({token:e,user:t})=>(t&&(e.role=t.role,e.id=t.id),e),session:async({session:e,token:t})=>(t&&(e.user.role=t.role,e.user.id=t.id),e)},pages:{signIn:"/auth/signin"}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},76926:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return a}});let s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var s={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=u?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(s,i,o):s[i]=e[i]}return s.default=e,r&&r.set(e,s),s}(r(61120));function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}let u={current:null},i="function"==typeof s.cache?s.cache:e=>e,o=console.warn;function a(e){return function(...t){o(e(...t))}}i(e=>{try{o(u.current)}finally{u.current=null}})},78335:()=>{},79464:(e,t,r)=>{"use strict";r.d(t,{z:()=>n});var s=r(96330);let n=globalThis.prisma??new s.PrismaClient},96330:e=>{"use strict";e.exports=require("@prisma/client")},96487:()=>{},96559:(e,t,r)=>{"use strict";e.exports=r(44870)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4447,2190,5663,8039],()=>r(39579));module.exports=s})();