(()=>{var e={};e.id=1622,e.ids=[1622],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11914:(e,r,t)=>{Promise.resolve().then(t.bind(t,33795))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},28829:(e,r,t)=>{"use strict";t.d(r,{JH:()=>o,SJ:()=>d,bm:()=>l,jf:()=>i});var s=t(60687);t(43210);var a=t(43314),n=t(96241);function i({children:e,className:r,interactive:t=!0,highlight:i=!1,gradient:o=!1,gradientColors:d="from-primary/20 to-secondary/20",onClick:l}){let c=(0,n.cn)("relative overflow-hidden rounded-2xl p-6 shadow-lg","backdrop-blur-md border border-white/10",i&&"glass-card-highlight",o?`bg-gradient-to-br ${d}`:"bg-gradient-to-br from-white/10 to-white/5",r);return t?(0,s.jsx)(a.P.div,{className:c,whileHover:{scale:1.01},whileTap:{scale:.98},transition:{type:"spring",stiffness:300,damping:20},onClick:l,children:e}):(0,s.jsx)("div",{className:c,onClick:l,children:e})}function o({children:e,className:r,onClick:t,disabled:i=!1,type:o="button"}){return(0,s.jsx)(a.P.button,{className:(0,n.cn)("px-4 py-2 rounded-full","bg-white/20 backdrop-blur-md","border border-white/20 shadow-sm","text-sm font-medium","hover:bg-white/30 transition-colors",i&&"opacity-50 cursor-not-allowed",r),whileHover:i?{}:{scale:1.05},whileTap:i?{}:{scale:.95},onClick:t,disabled:i,type:o,children:e})}function d({children:e,className:r,variant:t="default"}){return(0,s.jsx)("span",{className:(0,n.cn)("px-3 py-1 rounded-full text-xs font-medium backdrop-blur-md",{default:"bg-slate-500/80 text-white",success:"bg-emerald-500/80 text-white",warning:"bg-amber-500/80 text-white",danger:"bg-rose-500/80 text-white",info:"bg-blue-500/80 text-white",primary:"bg-primary/80 text-white",secondary:"bg-secondary/80 text-white"}[t],r),children:e})}function l({children:e,className:r}){return(0,s.jsx)("div",{className:(0,n.cn)("bg-white/5 backdrop-blur-lg border border-white/10 rounded-3xl shadow-xl",r),children:e})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33795:(e,r,t)=>{"use strict";t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\HP\\\\Desktop\\\\naazbook\\\\app\\\\(home)\\\\dashboard\\\\orders\\\\orders-client.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\HP\\Desktop\\naazbook\\app\\(home)\\dashboard\\orders\\orders-client.tsx","default")},33873:e=>{"use strict";e.exports=require("path")},46165:(e,r,t)=>{"use strict";function s({children:e}){return e}t.r(r),t.d(r,{default:()=>s})},51666:(e,r,t)=>{Promise.resolve().then(t.bind(t,84946))},53213:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var s=t(37413),a=t(56814),n=t(39916),i=t(79464),o=t(33795);async function d(){let e=await (0,a.j2)();e?.user?.email||(0,n.redirect)("/auth/signin");let r=await i.z.user.findUnique({where:{email:e.user.email},select:{id:!0}});r||(0,n.redirect)("/auth/signin");let t=(await i.z.order.findMany({where:{userId:r.id},include:{orderItems:{include:{product:{select:{name:!0,images:!0,slug:!0}}}}},orderBy:{createdAt:"desc"}})).map(e=>({...e,createdAt:e.createdAt.toISOString(),total:e.total.toString(),orderItems:e.orderItems.map(e=>({id:e.id,productId:e.productId,orderId:e.orderId,quantity:e.quantity,price:e.price.toString(),createdAt:e.createdAt.toISOString(),product:e.product?{name:e.product.name,images:e.product.images,slug:e.product.slug}:void 0}))}));return(0,s.jsx)(o.default,{orders:t})}},55511:e=>{"use strict";e.exports=require("crypto")},56814:(e,r,t)=>{"use strict";t.d(r,{Y9:()=>o,j2:()=>c});var s=t(19443),a=t(79464),n=t(10189),i=t(85663);let{handlers:o,signIn:d,signOut:l,auth:c}=(0,s.Ay)({providers:[(0,n.A)({name:"credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(e){if(!e?.email||!e?.password)return null;let r=await a.z.user.findUnique({where:{email:e.email}});return r&&r.password&&await (0,i.UD)(e.password,r.password)?{id:r.id,email:r.email,name:r.name,role:r.role}:null}})],session:{strategy:"jwt"},callbacks:{jwt:async({token:e,user:r})=>(r&&(e.role=r.role,e.id=r.id),e),session:async({session:e,token:r})=>(r&&(e.user.role=r.role,e.user.id=r.id),e)},pages:{signIn:"/auth/signin"}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},79464:(e,r,t)=>{"use strict";t.d(r,{z:()=>a});var s=t(96330);let a=globalThis.prisma??new s.PrismaClient},84946:(e,r,t)=>{"use strict";t.d(r,{default:()=>m});var s=t(60687),a=t(43314),n=t(62688);let i=(0,n.A)("package-search",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]),o=(0,n.A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var d=t(85814),l=t.n(d),c=t(28829);function u({status:e}){return(0,s.jsx)(c.SJ,{variant:(e=>{switch(e.toLowerCase()){case"delivered":return"success";case"shipped":return"info";case"processing":return"warning";case"cancelled":return"danger";default:return"default"}})(e),children:e})}function m({orders:e}){let r=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(Number(e));return(0,s.jsx)("div",{className:"min-h-screen py-12 px-4",style:{background:"linear-gradient(135deg, rgba(248,247,255,1) 0%, rgba(250,247,254,1) 35%, rgba(245,251,255,1) 100%)",backgroundAttachment:"fixed"},children:(0,s.jsxs)("div",{className:"container mx-auto max-w-5xl",children:[(0,s.jsx)(c.jf,{className:"mb-8",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-3 rounded-full bg-primary/10 text-primary",children:(0,s.jsx)(i,{className:"h-6 w-6"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl md:text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary",children:"Your Orders"}),(0,s.jsx)("p",{className:"text-slate-600 mt-1",children:"Track and manage your purchases"})]})]})}),0===e.length?(0,s.jsxs)(c.jf,{className:"p-12 text-center",children:[(0,s.jsx)(i,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-slate-600 text-lg",children:"No orders found"}),(0,s.jsx)("p",{className:"text-slate-500 mt-2",children:"Your order history will appear here once you make a purchase."}),(0,s.jsxs)(l(),{href:"/products",className:"mt-6 inline-flex items-center text-primary font-medium",children:["Browse Products",(0,s.jsx)(o,{className:"h-4 w-4 ml-2"})]})]}):(0,s.jsx)("div",{className:"space-y-6",children:e.map(e=>(0,s.jsx)(a.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4},children:(0,s.jsxs)(c.jf,{children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,s.jsxs)("h3",{className:"font-semibold text-lg",children:["Order #",e.orderNumber]}),(0,s.jsx)(u,{status:e.status})]}),(0,s.jsxs)("p",{className:"text-sm text-slate-500 mb-1",children:["Placed on ",new Date(e.createdAt).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})]}),(0,s.jsx)("p",{className:"font-bold text-lg",children:r(e.total)})]}),(0,s.jsx)("div",{className:"shrink-0 flex md:flex-col justify-end gap-3",children:(0,s.jsx)(l(),{href:`/order-received/${e.id}`,className:"px-4 py-2 bg-primary/10 hover:bg-primary/20 text-primary rounded-full text-sm font-medium transition-colors",children:"View Details"})})]}),e.orderItems&&e.orderItems.length>0&&(0,s.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-200/20",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-slate-600 mb-3",children:"Products"}),(0,s.jsx)("div",{className:"space-y-3",children:e.orderItems.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-12 w-12 bg-center bg-cover rounded-md",style:{backgroundImage:`url(${e.product?.images?.[0]||"/placeholder.jpg"})`}}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium truncate",children:e.product?.name}),(0,s.jsxs)("p",{className:"text-xs text-slate-500",children:[r(e.price)," \xd7 ",e.quantity]})]})]},e.id))})]})]})},e.id))})]})})}},92433:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>l});var s=t(65239),a=t(48088),n=t(88170),i=t.n(n),o=t(30893),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);t.d(r,d);let l={children:["",{children:["(home)",{children:["dashboard",{children:["orders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,53213)),"C:\\Users\\HP\\Desktop\\naazbook\\app\\(home)\\dashboard\\orders\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,46165)),"C:\\Users\\HP\\Desktop\\naazbook\\app\\(home)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"C:\\Users\\HP\\Desktop\\naazbook\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\HP\\Desktop\\naazbook\\app\\(home)\\dashboard\\orders\\page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(home)/dashboard/orders/page",pathname:"/dashboard/orders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},96241:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n});var s=t(49384),a=t(82348);function n(...e){return(0,a.QP)((0,s.$)(e))}},96330:e=>{"use strict";e.exports=require("@prisma/client")},96487:()=>{}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[4447,2886,2190,9069,5663,8039,8756],()=>t(92433));module.exports=s})();