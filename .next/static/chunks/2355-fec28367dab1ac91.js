"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2355],{1484:(e,t,a)=>{a.d(t,{U7:()=>r,tE:()=>i});let i={hidden:{opacity:0,y:24,transition:{duration:.4}},show:{opacity:1,y:0,transition:{duration:.6,ease:[.4,0,.2,1]}}},r={initial:{opacity:0,y:24},animate:{opacity:1,y:0,transition:{duration:.5}},exit:{opacity:0,y:-24,transition:{duration:.3}}}},2355:(e,t,a)=>{a.d(t,{default:()=>b});var i=a(5155),r=a(6766),n=a(6874),s=a.n(n),o=a(7168),l=a(8482),d=a(1976),c=a(7809),u=a(4446),m=a(2073),f=a(2115),g=a(8564),x=a(1484),h=a(2627),p=a(8817);function b(e){var t;let a,{product:n,showWishlist:b=!0,onWishlistToggle:y,isInWishlist:v=!1,wishlistLoading:w=!1}=e,j=(0,u.x)(e=>e.addItem),[N,k]=(0,f.useState)(!1),I=(0,h.I)(),[S,A]=(0,p.w)(),_=async e=>{var t;e.stopPropagation(),k(!0),j({id:n.id,name:n.name,price:n.price,image:n.images[0]||"/Images/Riyadh as-Salihin.jpg",slug:n.slug,stock:null!=(t=n.stock)?t:100},1),setTimeout(()=>k(!1),800)},E=n.name?"".concat(n.name," product image"):"Product image",M=(null!=(t=n.stock)?t:1)>0;return(0,i.jsx)(m.P.div,{ref:S,initial:"hidden",animate:A?"show":"hidden",variants:I?void 0:x.tE,whileHover:I?void 0:{scale:1.01,boxShadow:"0 8px 32px 0 rgba(153,41,234,0.10)"},transition:{type:"spring",stiffness:300,damping:22},className:"h-full",children:(0,i.jsxs)(l.Zp,{className:"group bg-white rounded-xl shadow-md transition-all duration-300 relative overflow-hidden flex flex-col h-full hover:shadow-[0_8px_32px_0_rgba(212,168,83,0.18)]",children:[b&&(0,i.jsx)(o.$,{variant:"ghost",size:"icon","aria-label":v?"Remove from wishlist":"Add to wishlist",className:"absolute top-3 right-3 z-10 bg-white/80 backdrop-blur-sm hover:bg-white focus:ring-2 focus:ring-secondary",onClick:e=>{e.stopPropagation(),y&&y(n.id)},disabled:w,tabIndex:0,children:(0,i.jsx)(d.A,{className:"w-5 h-5 ".concat(v?"fill-red-500 text-red-500":"text-gray-600")})}),(0,i.jsx)(s(),{href:"/products/".concat(n.slug),className:"block focus:outline-none focus:ring-2 focus:ring-secondary rounded-t-xl",children:(0,i.jsx)("div",{className:"relative w-full aspect-[4/3] bg-[#EAE4D5] overflow-hidden flex items-center justify-center",children:(0,i.jsxs)(m.P.div,{whileHover:{scale:1.04,y:-6,boxShadow:"0 8px 32px 0 rgba(212,168,83,0.18)"},transition:{type:"spring",stiffness:260,damping:18},className:"w-full h-full",children:[(0,i.jsx)(r.default,{src:n.images[0]||"/Images/Riyadh as-Salihin.jpg",alt:E,fill:!0,sizes:"(max-width: 768px) 100vw, 300px",className:"object-cover w-full h-full group-hover:scale-105 transition-transform duration-300",priority:!1}),(0,i.jsx)(m.P.div,{initial:{opacity:0},whileHover:{opacity:1},transition:{duration:.25},className:"absolute inset-0 bg-gradient-to-t from-[rgba(212,168,83,0.85)] to-transparent flex items-end justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:(0,i.jsx)("span",{className:"mb-4 px-4 py-2 rounded-full bg-white/90 text-[var(--islamic-green)] font-semibold shadow-lg text-sm",children:"View Details"})})]})})}),(0,i.jsxs)(l.Wu,{className:"flex flex-col flex-1 justify-between p-4 min-h-[140px]",children:[(0,i.jsx)(s(),{href:"/products/".concat(n.slug),tabIndex:0,className:"block focus:outline-none focus:ring-2 focus:ring-secondary rounded",children:(0,i.jsx)(l.ZB,{className:"text-base sm:text-lg font-bold mb-1 text-gray-900 group-hover:text-secondary transition-colors line-clamp-2 text-left",children:(0,i.jsx)("span",{title:n.name,children:n.name})})}),(0,i.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(0,i.jsx)("div",{className:"flex items-center gap-0.5","aria-label":"Rated ".concat(e," out of 5"),children:[1,2,3,4,5].map(t=>(0,i.jsx)(g.A,{className:"w-4 h-4 ".concat(t<=Math.round(e)?"text-yellow-400 fill-yellow-400":"text-gray-300"),fill:t<=Math.round(e)?"#facc15":"none","aria-hidden":"true"},t))})}(n.rating),(0,i.jsx)("span",{className:"text-xs font-semibold ml-2 ".concat(M?"text-green-600":"text-red-500"),children:M?"In Stock":"Out of Stock"})]}),(0,i.jsx)("div",{className:"text-secondary font-bold text-lg mb-2 text-left",children:(a=n.price,new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(a))}),(0,i.jsx)("div",{className:"w-full mt-auto",children:(0,i.jsxs)(o.$,{onClick:_,className:"w-full bg-secondary hover:bg-secondary/90 text-white font-semibold py-2 transition-all duration-200 flex items-center justify-center",disabled:!M||N,"aria-disabled":!M||N,"aria-label":M?"Add to cart":"Out of stock",tabIndex:0,children:[N?(0,i.jsx)("span",{className:"inline-block w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2","aria-label":"Loading"}):(0,i.jsx)(c.A,{className:"w-4 h-4 mr-2"}),M?N?"Adding...":"Add to Cart":"Out of Stock"]})})]})]})})}},2627:(e,t,a)=>{a.d(t,{I:()=>n});var i=a(3084),r=a(2115);function n(){let e=(0,i.I)(),[t,a]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{window.matchMedia&&a(window.matchMedia("(prefers-reduced-motion: reduce)").matches)},[]),e||t}},3999:(e,t,a)=>{a.d(t,{cn:()=>n});var i=a(2596),r=a(9688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,i.$)(t))}},4446:(e,t,a)=>{a.d(t,{x:()=>o});var i=a(5453);let r="naazbookdepot_cart",n=()=>{try{let e=localStorage.getItem(r);return e?JSON.parse(e):[]}catch(e){return[]}},s=e=>{localStorage.setItem(r,JSON.stringify(e))},o=(0,i.v)((e,t)=>({items:n(),addItem:function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e(e=>{let i;return s(i=e.items.find(e=>e.id===t.id)?e.items.map(e=>e.id===t.id?{...e,quantity:Math.min(e.quantity+a,e.stock)}:e):[...e.items,{...t,quantity:Math.min(a,t.stock)}]),{items:i}})},removeItem:t=>{e(e=>{let a=e.items.filter(e=>e.id!==t);return s(a),{items:a}})},updateQuantity:(t,a)=>{e(e=>{let i=e.items.map(e=>e.id===t?{...e,quantity:Math.max(1,Math.min(a,e.stock))}:e);return s(i),{items:i}})},clearCart:()=>{s([]),e({items:[]})},getTotal:()=>t().items.reduce((e,t)=>e+t.price*t.quantity,0),getCount:()=>t().items.reduce((e,t)=>e+t.quantity,0)}));window.addEventListener("storage",e=>{e.key===r&&o.setState({items:n()})})},7168:(e,t,a)=>{a.d(t,{$:()=>o});var i=a(5155),r=a(2115),n=a(3999),s=a(9708);let o=(0,r.forwardRef)(function(e,t){let{className:a,variant:r="default",size:o="default",asChild:l=!1,...d}=e,c=l?s.DX:"button";return(0,i.jsx)(c,{ref:t,...d,className:(0,n.cn)("min-h-[44px] rounded-full font-semibold focus:outline-none focus:ring-2 focus:ring-secondary transition-all","text-base sm:text-lg","default"===r&&"bg-[var(--primary)] text-white hover:bg-[var(--primary-dark)]","destructive"===r&&"bg-red-500 text-white hover:bg-red-600","outline"===r&&"border border-gray-300 bg-transparent hover:bg-gray-100","secondary"===r&&"bg-gray-200 text-gray-800 hover:bg-gray-300","ghost"===r&&"bg-transparent hover:bg-gray-100","link"===r&&"bg-transparent text-[var(--primary)] underline-offset-4 hover:underline","default"===o&&"px-4 py-2","sm"===o&&"px-3 py-1.5 text-sm","lg"===o&&"px-6 py-3","icon"===o&&"p-2 min-w-[44px] aspect-square",a)})})},8482:(e,t,a)=>{a.d(t,{Wu:()=>o,ZB:()=>s,Zp:()=>n});var i=a(5155);a(2115);var r=a(3999);function n(e){let{className:t,...a}=e;return(0,i.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function s(e){let{className:t,...a}=e;return(0,i.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",t),...a})}function o(e){let{className:t,...a}=e;return(0,i.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",t),...a})}},8817:(e,t,a)=>{a.d(t,{w:()=>n});var i=a(2115),r=a(6604);function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{once:!0,margin:"-20% 0px"},t=(0,i.useRef)(null),a=(0,r.W)(t,{...e,margin:e.margin});return[t,a]}}}]);