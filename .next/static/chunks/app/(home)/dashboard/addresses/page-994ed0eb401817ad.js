(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1925],{677:(e,t,r)=>{"use strict";r.d(t,{ToastProvider:()=>i,d:()=>d});var s=r(5155),a=r(2115);let n=(0,a.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,a.useState)([]),d=(0,a.useCallback)((e,t)=>{let r=Date.now();i(s=>[...s,{id:r,message:e,type:t}]),setTimeout(()=>{i(e=>e.filter(e=>e.id!==r))},3500)},[]);return(0,s.jsxs)(n.Provider,{value:{showToast:d},children:[t,(0,s.jsx)(l,{toasts:r})]})}function d(){let e=(0,a.useContext)(n);if(!e)throw Error("useToast must be used within a ToastProvider");return e}function l(e){let{toasts:t}=e;return(0,s.jsx)("div",{className:"fixed bottom-6 right-6 z-[9999] flex flex-col gap-3",children:t.map(e=>(0,s.jsx)("div",{className:"px-6 py-3 rounded-xl shadow-lg text-white font-semibold text-base animate-fade-in-down\n            ".concat("success"===e.type?"bg-green-600":"error"===e.type?"bg-red-600":"bg-secondary","\n          "),role:"alert",children:e.message},e.id))})}},3657:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var s=r(5155),a=r(8482),n=r(4516),i=r(2115),d=r(7168),l=r(9852),o=r(9840),c=r(677);function u(e){let{initialAddresses:t}=e,[r,u]=(0,i.useState)(t),[x,p]=(0,i.useState)(!1),[h,f]=(0,i.useState)(null),[m,g]=(0,i.useState)({line1:"",city:"",pincode:"",state:"",country:"India"}),{showToast:v}=(0,c.d)(),b=e=>{f(e),g({line1:e.line1,city:e.city,pincode:e.pincode,state:e.state,country:e.country}),p(!0)},y=async e=>{confirm("Delete this address?")&&((await fetch("/api/user/addresses",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})})).ok?(v("Address deleted","success"),u(r.filter(t=>t.id!==e))):v("Failed to delete address","error"))},j=async e=>{e.preventDefault();let t=h?"PUT":"POST",s=await fetch("/api/user/addresses",{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(h?{...m,id:h.id}:m)});if(s.ok){v(h?"Address updated":"Address added","success"),p(!1);let e=await s.json();h?u(r.map(t=>t.id===h.id?e:t)):u([...r,e])}else v("Failed to save address","error")};return(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Saved Addresses"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Manage your shipping addresses"})]}),(0,s.jsx)(d.$,{onClick:()=>{f(null),g({line1:"",city:"",pincode:"",state:"",country:"India"}),p(!0)},children:"Add Address"})]}),(0,s.jsxs)(a.Zp,{children:[(0,s.jsx)(a.aR,{children:(0,s.jsxs)(a.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(n.A,{className:"h-5 w-5"}),"Your Addresses"]})}),(0,s.jsx)(a.Wu,{children:0===r.length?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(n.A,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"No addresses found."})]}):(0,s.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,s.jsx)(a.Zp,{className:"border",children:(0,s.jsxs)(a.Wu,{className:"p-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:e.line1}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.city,", ",e.state," ",e.pincode]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e.country})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(d.$,{size:"sm",variant:"outline",onClick:()=>b(e),children:"Edit"}),(0,s.jsx)(d.$,{size:"sm",variant:"destructive",onClick:()=>y(e.id),children:"Delete"})]})]})},e.id))})})]}),(0,s.jsx)(o.l,{open:x,onOpenChange:p,children:(0,s.jsxs)(o.l.Content,{children:[(0,s.jsx)(o.l.Title,{children:h?"Edit Address":"Add Address"}),(0,s.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,s.jsx)(l.p,{placeholder:"Address Line",value:m.line1,onChange:e=>g(t=>({...t,line1:e.target.value})),required:!0}),(0,s.jsx)(l.p,{placeholder:"City",value:m.city,onChange:e=>g(t=>({...t,city:e.target.value})),required:!0}),(0,s.jsx)(l.p,{placeholder:"Pincode",value:m.pincode,onChange:e=>g(t=>({...t,pincode:e.target.value})),required:!0}),(0,s.jsx)(l.p,{placeholder:"State",value:m.state,onChange:e=>g(t=>({...t,state:e.target.value})),required:!0}),(0,s.jsx)(l.p,{placeholder:"Country",value:m.country,onChange:e=>g(t=>({...t,country:e.target.value})),required:!0}),(0,s.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,s.jsx)(d.$,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Cancel"}),(0,s.jsx)(d.$,{type:"submit",children:h?"Update":"Add"})]})]})]})})]})}},3999:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(2596),a=r(9688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},4516:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(9946).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},7168:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var s=r(5155),a=r(2115),n=r(3999),i=r(9708);let d=(0,a.forwardRef)(function(e,t){let{className:r,variant:a="default",size:d="default",asChild:l=!1,...o}=e,c=l?i.DX:"button";return(0,s.jsx)(c,{ref:t,...o,className:(0,n.cn)("min-h-[44px] rounded-full font-semibold focus:outline-none focus:ring-2 focus:ring-secondary transition-all","text-base sm:text-lg","default"===a&&"bg-[var(--primary)] text-white hover:bg-[var(--primary-dark)]","destructive"===a&&"bg-red-500 text-white hover:bg-red-600","outline"===a&&"border border-gray-300 bg-transparent hover:bg-gray-100","secondary"===a&&"bg-gray-200 text-gray-800 hover:bg-gray-300","ghost"===a&&"bg-transparent hover:bg-gray-100","link"===a&&"bg-transparent text-[var(--primary)] underline-offset-4 hover:underline","default"===d&&"px-4 py-2","sm"===d&&"px-3 py-1.5 text-sm","lg"===d&&"px-6 py-3","icon"===d&&"p-2 min-w-[44px] aspect-square",r)})})},7786:(e,t,r)=>{Promise.resolve().then(r.bind(r,3657))},8482:(e,t,r)=>{"use strict";r.d(t,{Wu:()=>l,ZB:()=>d,Zp:()=>n,aR:()=>i});var s=r(5155);r(2115);var a=r(3999);function n(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function i(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function d(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",t),...r})}function l(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",t),...r})}},9840:(e,t,r)=>{"use strict";r.d(t,{l:()=>i});var s=r(5155);r(2115);var a=r(237),n=r(4416);function i(e){let{open:t,onOpenChange:r,children:n}=e;return(0,s.jsx)(a.bL,{open:t,onOpenChange:r,children:n})}i.Trigger=a.l9,i.Content=function(e){let{className:t="",children:r}=e;return(0,s.jsxs)(a.ZL,{children:[(0,s.jsx)(a.hJ,{className:"fixed inset-0 bg-black/40 z-50"}),(0,s.jsxs)(a.UC,{className:"fixed left-1/2 top-1/2 z-50 w-full max-w-lg -translate-x-1/2 -translate-y-1/2 rounded-xl bg-white p-6 shadow-xl focus:outline-none ".concat(t),children:[(0,s.jsx)(a.bm,{asChild:!0,children:(0,s.jsx)("button",{className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":"Close",children:(0,s.jsx)(n.A,{className:"w-6 h-6"})})}),r]})]})},i.Title=function(e){let{className:t="",children:r}=e;return(0,s.jsx)(a.hE,{className:"text-xl font-bold mb-2 ".concat(t),children:r})}},9852:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var s=r(5155);r(2115);var a=r(3999);function n(e){let{className:t,type:r,...n}=e;return(0,s.jsx)("input",{type:r,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}},9946:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var s=r(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),i=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},d=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:c="",children:u,iconNode:x,...p}=e;return(0,s.createElement)("svg",{ref:t,...o,width:a,height:a,stroke:r,strokeWidth:i?24*Number(n)/Number(a):n,className:d("lucide",c),...!u&&!l(p)&&{"aria-hidden":"true"},...p},[...x.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let r=(0,s.forwardRef)((r,n)=>{let{className:l,...o}=r;return(0,s.createElement)(c,{ref:n,iconNode:t,className:d("lucide-".concat(a(i(e))),"lucide-".concat(e),l),...o})});return r.displayName=i(e),r}}},e=>{var t=t=>e(e.s=t);e.O(0,[4277,409,237,8441,1684,7358],()=>t(7786)),_N_E=e.O()}]);