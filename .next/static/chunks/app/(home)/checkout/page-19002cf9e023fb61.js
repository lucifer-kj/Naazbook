(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8402],{3999:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var s=r(2596),n=r(9688);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,s.$)(t))}},5695:(e,t,r)=>{"use strict";var s=r(8999);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},6101:(e,t,r)=>{"use strict";r.d(t,{s:()=>a,t:()=>l});var s=r(2115);function n(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function l(...e){return t=>{let r=!1,s=e.map(e=>{let s=n(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():n(e[t],null)}}}}function a(...e){return s.useCallback(l(...e),e)}},6873:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(5155),n=r(2115),l=r(5695),a=r(9852),i=r(7168),d=r(8482);function o(){let e=(0,l.useRouter)(),[t,r]=(0,n.useState)({name:"",phone:"",address:"",city:"",pincode:"",state:"",country:"India"}),[o,c]=(0,n.useState)(""),[u,m]=(0,n.useState)([]),[x,f]=(0,n.useState)("");(0,n.useEffect)(()=>{fetch("/api/user/addresses",{credentials:"include"}).then(e=>e.json()).then(e=>Array.isArray(e)?m(e):m([]))},[]);let h=e=>{f(e);let t=u.find(t=>t.id===e);t&&r({name:t.name,phone:t.phone,address:t.address,city:t.city,pincode:t.pincode,state:t.state,country:t.country})},p=e=>{r({...t,[e.target.name]:e.target.value})};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 py-12",children:(0,s.jsxs)(d.Zp,{className:"w-full max-w-4xl mx-auto p-0 flex flex-col md:flex-row gap-0 shadow-xl border-0",children:[(0,s.jsxs)("div",{className:"flex-1 p-8 bg-white rounded-l-xl",children:[(0,s.jsx)("div",{className:"flex items-center justify-center mb-8",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-orange-500 text-white flex items-center justify-center font-bold",children:"1"}),(0,s.jsx)("span",{className:"text-xs mt-1 font-medium text-orange-600",children:"Billing Address"})]}),(0,s.jsx)("div",{className:"w-8 h-0.5 bg-gray-300"}),(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-200 text-gray-500 flex items-center justify-center font-bold",children:"2"}),(0,s.jsx)("span",{className:"text-xs mt-1 font-medium text-gray-400",children:"Shipping Method"})]}),(0,s.jsx)("div",{className:"w-8 h-0.5 bg-gray-300"}),(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-200 text-gray-500 flex items-center justify-center font-bold",children:"3"}),(0,s.jsx)("span",{className:"text-xs mt-1 font-medium text-gray-400",children:"Payment Method"})]})]})}),(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Checkout"}),(0,s.jsxs)("form",{onSubmit:r=>{if(r.preventDefault(),!t.name||!t.phone||!t.address||!t.city||!t.pincode)return void c("Please fill in all required fields.");c(""),sessionStorage.setItem("checkout_shipping",JSON.stringify(t)),e.push("/order-review")},className:"space-y-4",children:[u.length>0&&(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Choose Saved Address"}),(0,s.jsxs)("select",{className:"w-full border rounded px-3 py-2 text-base",value:x,onChange:e=>h(e.target.value),children:[(0,s.jsx)("option",{value:"",children:"-- Select an address --"}),u.map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.name,", ",e.address,", ",e.city,", ",e.state,", ",e.pincode,", ",e.country]},e.id))]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Full Name"}),(0,s.jsx)(a.p,{name:"name",value:t.name,onChange:p,placeholder:"Full Name",required:!0,"aria-invalid":!!o&&!t.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Phone Number"}),(0,s.jsx)(a.p,{name:"phone",value:t.phone,onChange:p,placeholder:"Phone Number",required:!0,"aria-invalid":!!o&&!t.phone})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Address"}),(0,s.jsx)(a.p,{name:"address",value:t.address,onChange:p,placeholder:"Address",required:!0,"aria-invalid":!!o&&!t.address}),!t.address&&o&&(0,s.jsx)("div",{className:"text-red-500 text-xs mt-1",children:"This value is required"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"City"}),(0,s.jsx)(a.p,{name:"city",value:t.city,onChange:p,placeholder:"City",required:!0,"aria-invalid":!!o&&!t.city})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Pincode"}),(0,s.jsx)(a.p,{name:"pincode",value:t.pincode,onChange:p,placeholder:"Pincode",required:!0,"aria-invalid":!!o&&!t.pincode})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"State"}),(0,s.jsx)(a.p,{name:"state",value:t.state,onChange:p,placeholder:"State"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Country"}),(0,s.jsx)(a.p,{name:"country",value:t.country,onChange:p,placeholder:"Country"})]})]}),o&&(0,s.jsx)("div",{className:"text-red-500 text-sm mt-2",children:o}),(0,s.jsx)(i.$,{type:"submit",className:"w-full bg-orange-500 hover:bg-orange-600 text-white text-base font-semibold py-3 rounded-md shadow-md mt-4",children:"Continue to Review"})]})]}),(0,s.jsxs)("div",{className:"w-full md:w-96 bg-gray-50 rounded-r-xl p-8 border-l flex flex-col justify-between",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Order Summary"}),(0,s.jsxs)("div",{className:"space-y-4 flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-base font-semibold",children:[(0,s.jsx)("span",{children:"Subtotal"}),(0,s.jsx)("span",{children:"₹0.00"})," "]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,s.jsx)("span",{children:"Shipping"}),(0,s.jsx)("span",{children:"Free"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-lg font-bold mt-4",children:[(0,s.jsx)("span",{children:"Total"}),(0,s.jsx)("span",{children:"₹0.00"})," "]})]})]})]})})}},7168:(e,t,r)=>{"use strict";r.d(t,{$:()=>i});var s=r(5155),n=r(2115),l=r(3999),a=r(9708);let i=(0,n.forwardRef)(function(e,t){let{className:r,variant:n="default",size:i="default",asChild:d=!1,...o}=e,c=d?a.DX:"button";return(0,s.jsx)(c,{ref:t,...o,className:(0,l.cn)("min-h-[44px] rounded-full font-semibold focus:outline-none focus:ring-2 focus:ring-secondary transition-all","text-base sm:text-lg","default"===n&&"bg-[var(--primary)] text-white hover:bg-[var(--primary-dark)]","destructive"===n&&"bg-red-500 text-white hover:bg-red-600","outline"===n&&"border border-gray-300 bg-transparent hover:bg-gray-100","secondary"===n&&"bg-gray-200 text-gray-800 hover:bg-gray-300","ghost"===n&&"bg-transparent hover:bg-gray-100","link"===n&&"bg-transparent text-[var(--primary)] underline-offset-4 hover:underline","default"===i&&"px-4 py-2","sm"===i&&"px-3 py-1.5 text-sm","lg"===i&&"px-6 py-3","icon"===i&&"p-2 min-w-[44px] aspect-square",r)})})},8054:(e,t,r)=>{Promise.resolve().then(r.bind(r,6873))},8482:(e,t,r)=>{"use strict";r.d(t,{Wu:()=>i,ZB:()=>a,Zp:()=>l});var s=r(5155);r(2115);var n=r(3999);function l(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function a(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,n.cn)("leading-none font-semibold",t),...r})}function i(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,n.cn)("px-6",t),...r})}},9708:(e,t,r)=>{"use strict";r.d(t,{DX:()=>i,TL:()=>a});var s=r(2115),n=r(6101),l=r(5155);function a(e){let t=function(e){let t=s.forwardRef((e,t)=>{let{children:r,...l}=e;if(s.isValidElement(r)){var a;let e,i,d=(a=r,(i=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(i=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref),o=function(e,t){let r={...t};for(let s in t){let n=e[s],l=t[s];/^on[A-Z]/.test(s)?n&&l?r[s]=(...e)=>{let t=l(...e);return n(...e),t}:n&&(r[s]=n):"style"===s?r[s]={...n,...l}:"className"===s&&(r[s]=[n,l].filter(Boolean).join(" "))}return{...e,...r}}(l,r.props);return r.type!==s.Fragment&&(o.ref=t?(0,n.t)(t,d):d),s.cloneElement(r,o)}return s.Children.count(r)>1?s.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=s.forwardRef((e,r)=>{let{children:n,...a}=e,i=s.Children.toArray(n),d=i.find(o);if(d){let e=d.props.children,n=i.map(t=>t!==d?t:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,l.jsx)(t,{...a,ref:r,children:s.isValidElement(e)?s.cloneElement(e,void 0,n):null})}return(0,l.jsx)(t,{...a,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}var i=a("Slot"),d=Symbol("radix.slottable");function o(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===d}},9852:(e,t,r)=>{"use strict";r.d(t,{p:()=>l});var s=r(5155);r(2115);var n=r(3999);function l(e){let{className:t,type:r,...l}=e;return(0,s.jsx)("input",{type:r,"data-slot":"input",className:(0,n.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...l})}}},e=>{var t=t=>e(e.s=t);e.O(0,[4277,8441,1684,7358],()=>t(8054)),_N_E=e.O()}]);