(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8402],{3999:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var r=s(2596),a=s(9688);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}},5695:(e,t,s)=>{"use strict";var r=s(8999);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},6101:(e,t,s)=>{"use strict";s.d(t,{s:()=>l,t:()=>n});var r=s(2115);function a(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function n(...e){return t=>{let s=!1,r=e.map(e=>{let r=a(e,t);return s||"function"!=typeof r||(s=!0),r});if(s)return()=>{for(let t=0;t<r.length;t++){let s=r[t];"function"==typeof s?s():a(e[t],null)}}}}function l(...e){return r.useCallback(n(...e),e)}},6873:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(5155),a=s(2115),n=s(5695),l=s(9852),i=s(7168);function d(){let e=(0,n.useRouter)(),[t,s]=(0,a.useState)({name:"",phone:"",address:"",city:"",pincode:"",state:"",country:"India"}),[d,c]=(0,a.useState)(""),[o,m]=(0,a.useState)([]),[x,u]=(0,a.useState)("");(0,a.useEffect)(()=>{fetch("/api/user/addresses",{credentials:"include"}).then(e=>e.json()).then(e=>Array.isArray(e)?m(e):m([]))},[]);let f=e=>{u(e);let t=o.find(t=>t.id===e);t&&s({name:t.name,phone:t.phone,address:t.address,city:t.city,pincode:t.pincode,state:t.state,country:t.country})},h=e=>{s({...t,[e.target.name]:e.target.value})};return(0,r.jsx)("div",{className:"min-h-screen bg-gray-100 py-8 md:py-12",children:(0,r.jsx)("div",{className:"container mx-auto px-4",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsx)("div",{className:"mb-8 md:hidden",children:(0,r.jsxs)("div",{className:"flex items-center justify-center",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-6 h-6 rounded-full bg-orange-500 text-white flex items-center justify-center text-xs font-bold",children:"1"}),(0,r.jsx)("span",{className:"text-xs font-medium text-orange-600",children:"Billing"})]}),(0,r.jsx)("div",{className:"w-4 h-0.5 bg-gray-300 mx-2"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-6 h-6 rounded-full bg-gray-200 text-gray-500 flex items-center justify-center text-xs font-bold",children:"2"}),(0,r.jsx)("span",{className:"text-xs font-medium text-gray-400",children:"Review"})]}),(0,r.jsx)("div",{className:"w-4 h-0.5 bg-gray-300 mx-2"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-6 h-6 rounded-full bg-gray-200 text-gray-500 flex items-center justify-center text-xs font-bold",children:"3"}),(0,r.jsx)("span",{className:"text-xs font-medium text-gray-400",children:"Payment"})]})]})}),(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-0 shadow-xl border-0 rounded-xl overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex-1 p-6 md:p-8 bg-white",children:[(0,r.jsx)("div",{className:"hidden md:flex items-center justify-center mb-8",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-orange-500 text-white flex items-center justify-center font-bold",children:"1"}),(0,r.jsx)("span",{className:"text-xs mt-1 font-medium text-orange-600",children:"Billing Address"})]}),(0,r.jsx)("div",{className:"w-8 h-0.5 bg-gray-300"}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-200 text-gray-500 flex items-center justify-center font-bold",children:"2"}),(0,r.jsx)("span",{className:"text-xs mt-1 font-medium text-gray-400",children:"Review"})]}),(0,r.jsx)("div",{className:"w-8 h-0.5 bg-gray-300"}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-200 text-gray-500 flex items-center justify-center font-bold",children:"3"}),(0,r.jsx)("span",{className:"text-xs mt-1 font-medium text-gray-400",children:"Payment"})]})]})}),(0,r.jsx)("h1",{className:"text-xl md:text-2xl font-bold mb-6 text-center",children:"Checkout"}),(0,r.jsxs)("form",{onSubmit:s=>{if(s.preventDefault(),!t.name||!t.phone||!t.address||!t.city||!t.pincode)return void c("Please fill in all required fields.");c(""),sessionStorage.setItem("checkout_shipping",JSON.stringify(t)),e.push("/order-review")},className:"space-y-4",children:[o.length>0&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Choose Saved Address"}),(0,r.jsxs)("select",{className:"w-full border rounded-lg px-3 py-2 text-sm md:text-base",value:x,onChange:e=>f(e.target.value),children:[(0,r.jsx)("option",{value:"",children:"-- Select an address --"}),o.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.name,", ",e.address,", ",e.city]},e.id))]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Full Name *"}),(0,r.jsx)(l.p,{name:"name",value:t.name,onChange:h,placeholder:"Full Name",required:!0,"aria-invalid":!!d&&!t.name,className:"text-sm md:text-base"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Phone Number *"}),(0,r.jsx)(l.p,{name:"phone",value:t.phone,onChange:h,placeholder:"Phone Number",required:!0,"aria-invalid":!!d&&!t.phone,className:"text-sm md:text-base"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Address *"}),(0,r.jsx)(l.p,{name:"address",value:t.address,onChange:h,placeholder:"Street Address",required:!0,"aria-invalid":!!d&&!t.address,className:"text-sm md:text-base"}),!t.address&&d&&(0,r.jsx)("div",{className:"text-red-500 text-xs mt-1",children:"This field is required"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"City *"}),(0,r.jsx)(l.p,{name:"city",value:t.city,onChange:h,placeholder:"City",required:!0,"aria-invalid":!!d&&!t.city,className:"text-sm md:text-base"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Pincode *"}),(0,r.jsx)(l.p,{name:"pincode",value:t.pincode,onChange:h,placeholder:"Pincode",required:!0,"aria-invalid":!!d&&!t.pincode,className:"text-sm md:text-base"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"State"}),(0,r.jsx)(l.p,{name:"state",value:t.state,onChange:h,placeholder:"State",className:"text-sm md:text-base"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Country"}),(0,r.jsx)(l.p,{name:"country",value:t.country,onChange:h,placeholder:"Country",className:"text-sm md:text-base"})]})]}),d&&(0,r.jsx)("div",{className:"text-red-500 text-sm mt-2",children:d}),(0,r.jsx)(i.$,{type:"submit",className:"w-full bg-[var(--primary)] hover:bg-[var(--primary)]/90 text-white text-sm md:text-base font-semibold py-3 rounded-md shadow-md mt-6",children:"Continue to Review"})]})]}),(0,r.jsxs)("div",{className:"w-full lg:w-80 bg-gray-50 p-6 md:p-8 border-t lg:border-l lg:border-t-0",children:[(0,r.jsx)("h2",{className:"text-lg md:text-xl font-bold mb-4",children:"Order Summary"}),(0,r.jsxs)("div",{className:"space-y-4 flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm md:text-base font-semibold",children:[(0,r.jsx)("span",{children:"Subtotal"}),(0,r.jsx)("span",{children:"₹0.00"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs md:text-sm text-gray-500",children:[(0,r.jsx)("span",{children:"Shipping"}),(0,r.jsx)("span",{children:"Free"})]}),(0,r.jsx)("div",{className:"border-t pt-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between text-base md:text-lg font-bold",children:[(0,r.jsx)("span",{children:"Total"}),(0,r.jsx)("span",{children:"₹0.00"})]})})]})]})]})]})})})}},7168:(e,t,s)=>{"use strict";s.d(t,{$:()=>i});var r=s(5155),a=s(2115),n=s(3999),l=s(9708);let i=(0,a.forwardRef)(function(e,t){let{className:s,variant:a="default",size:i="default",asChild:d=!1,...c}=e,o=d?l.DX:"button";return(0,r.jsx)(o,{ref:t,...c,className:(0,n.cn)("min-h-[44px] rounded-full font-semibold focus:outline-none focus:ring-2 focus:ring-secondary transition-all","text-base sm:text-lg","default"===a&&"bg-[var(--primary)] text-white hover:bg-[var(--primary-dark)]","destructive"===a&&"bg-red-500 text-white hover:bg-red-600","outline"===a&&"border border-gray-300 bg-transparent hover:bg-gray-100","secondary"===a&&"bg-gray-200 text-gray-800 hover:bg-gray-300","ghost"===a&&"bg-transparent hover:bg-gray-100","link"===a&&"bg-transparent text-[var(--primary)] underline-offset-4 hover:underline","default"===i&&"px-4 py-2","sm"===i&&"px-3 py-1.5 text-sm","lg"===i&&"px-6 py-3","icon"===i&&"p-2 min-w-[44px] aspect-square",s)})})},8054:(e,t,s)=>{Promise.resolve().then(s.bind(s,6873))},9708:(e,t,s)=>{"use strict";s.d(t,{DX:()=>i,TL:()=>l});var r=s(2115),a=s(6101),n=s(5155);function l(e){let t=function(e){let t=r.forwardRef((e,t)=>{let{children:s,...n}=e;if(r.isValidElement(s)){var l;let e,i,d=(l=s,(i=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(i=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref),c=function(e,t){let s={...t};for(let r in t){let a=e[r],n=t[r];/^on[A-Z]/.test(r)?a&&n?s[r]=(...e)=>{let t=n(...e);return a(...e),t}:a&&(s[r]=a):"style"===r?s[r]={...a,...n}:"className"===r&&(s[r]=[a,n].filter(Boolean).join(" "))}return{...e,...s}}(n,s.props);return s.type!==r.Fragment&&(c.ref=t?(0,a.t)(t,d):d),r.cloneElement(s,c)}return r.Children.count(s)>1?r.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),s=r.forwardRef((e,s)=>{let{children:a,...l}=e,i=r.Children.toArray(a),d=i.find(c);if(d){let e=d.props.children,a=i.map(t=>t!==d?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,n.jsx)(t,{...l,ref:s,children:r.isValidElement(e)?r.cloneElement(e,void 0,a):null})}return(0,n.jsx)(t,{...l,ref:s,children:a})});return s.displayName=`${e}.Slot`,s}var i=l("Slot"),d=Symbol("radix.slottable");function c(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===d}},9852:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var r=s(5155);s(2115);var a=s(3999);function n(e){let{className:t,type:s,...n}=e;return(0,r.jsx)("input",{type:s,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}}},e=>{var t=t=>e(e.s=t);e.O(0,[4277,8441,1684,7358],()=>t(8054)),_N_E=e.O()}]);